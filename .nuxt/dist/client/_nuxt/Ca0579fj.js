import{k as d,n as u,o as i,c as r,a as t,j as y,v as w,F as x,a5 as D,a8 as m,t as n,a3 as E}from"./ClYIXCJx.js";const S={class:"row justify-content-center mt-5"},k={class:"col-12 my-4 col-sm-8"},C={class:"row g-3"},I={class:"col-md-9"},U=t("label",{for:"inputPassword2",class:"visually-hidden"},"Email address",-1),j={class:"col-12 col-sm-8"},B={class:"table table-bordered"},F=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Email"),t("th",{scope:"col"},"Status"),t("th",{scope:"col"},"Invitation Date"),t("th",{scope:"col"},"Invitation Date")])],-1),T={scope:"row"},L=t("td",null,[t("button",{class:"btn btn-danger"},"Cancel Invitation")],-1),q={__name:"invited-user",setup(P){const p=d(),l=d();console.log("user details",l.user.id);const o=u("");async function h(){if(!o.value){console.error("Email is required");return}try{const e=await m.post("https://mindbostapi.dowhf.com/api/invitations/send",{email:o.value,inviter_id:l.user.id});console.log("Invitation sent:",e.data),Swal.fire({title:"Good job!",text:"Inviateion email is sent successfully",icon:"success"}),setTimeout(()=>location.reload(),2e3)}catch(e){console.error("Error sending invitation:",e)}}const c=u([]);async function _(){try{const e=await m.post("https://mindbostapi.dowhf.com/api/invited-users",{inviter_id:p.user.id});c.value=e.data.data,console.log("Fetched pending Invitations:",e.data.data)}catch(e){console.error("Error fetching subscriptions:",e)}}_();function v(e){return{badge:!0,"bg-warning":e===0,"bg-success":e===1}}function b(e){return e===0?"Pending":"Active"}function f(e){const a={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(e).toLocaleDateString(void 0,a)}return(e,a)=>(i(),r("div",S,[t("div",k,[t("div",C,[t("div",I,[U,y(t("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>o.value=s),name:"email",placeholder:"Enter email","aria-describedby":"emailHelp"},null,512),[[w,o.value]])]),t("div",{class:"col-md-2"},[t("button",{onClick:h,class:"btn btn-primary"},"Invite User")])])]),t("div",j,[t("table",B,[F,t("tbody",null,[(i(!0),r(x,null,D(c.value,(s,g)=>(i(),r("tr",{key:s.id},[t("th",T,n(g+1),1),t("td",null,n(s.email),1),t("td",null,[t("span",{class:E(v(s.status))},n(b(s.status)),3)]),t("td",null,n(f(s.created_at)),1),L]))),128))])])])]))}};export{q as default};
